include ~/.ssh/config.d/*.config

Host *
  PreferredAuthentications publickey

Host github.com
  HostName ssh.github.com
  User git
  Port 443

Host gitlab.com
  Hostname altssh.gitlab.com
  User git
  Port 443

Host vm-*
  ControlMaster auto
  ControlPath ~/.ssh/cm-%r@%h:%p
  ControlPersist 10m
  # man 5 ssh_config
  IdentityFile ${HOME}/.ssh/<ssh-key-priv-key>


# ---- Qemu/vm-kvm
HOST vm-kvm-*
  User ali
  Port 22

Host vm-kvm-debian-11
  HostName 192.168.122.234
Host vm-kvm-rocky-9
  HostName 192.168.122.213

HOST vm-vps-*
  User ali
  # --- Use Proxy, install connect-proxy
  ProxyCommand nc --proxy-type socks5 --proxy 127.0.0.1:10808 %h %p
  ServerAliveInterval   10
  Port 2233
  # --- Jump Server
  # proxycommand ssh -W %h:%p -q vm-bastion-server
  # ProxyJump vm-bastion-server

Host vm-vps-1
  # HostName IP_V6
  HostName 1.2.3.4
  Port 2200

Host vm-vps-2
  HostName 1.2.3.5

# --- SSH Agent Forwarding
Host vm-bastion-server
  ForwardAgent yes
